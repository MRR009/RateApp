<div class="form-container">
    <form [formGroup]="roleForm" (ngSubmit)="addRole()">
      <div class="form-group add-role">
        <label style="font-weight: bold;" for="newrole">Add Role:</label>
        <input type="text" name="newrole" formControlName="newrole">
        <button type="submit">Add</button>
      </div>
      <div class="form-group add-role">
        <label style="font-weight: bold;" for="allroles">Select Role:</label>
        <select style="width: 170px;" id="allroles" name="allroles" formControlName="allroles"
          (change)="onRoleSelectionChange($event)">
          <option *ngFor="let role of allRoles" [value]="role.roleId">{{ role.roleName }}</option>
        </select>
      </div>
    </form>
  </div>
  
  <table class="user-details-table">
    <thead>
      <tr style="background-color: rgb(206, 224, 243);">
        <th>ScreenName</th>
        <th>Role</th>
        <th>Create</th>
        <th>Read</th>
        <th>Update</th>
        <th>Delete</th>
      </tr>
    </thead>
    
    <tbody *ngIf="selectedRole && selectedRole.userAccess && selectedRole.userAccess.length > 0; else noUserAccess">
        <tr *ngFor="let userAccess of selectedRole.userAccess" >
          <td>{{ userAccess.screen.screenName }}</td>
          <td>{{ selectedRole?.roleName }}</td>
          <td><input type="checkbox" [(ngModel)]="userAccess.createAccess"></td>
          <td><input type="checkbox" [(ngModel)]="userAccess.readAccess"></td>
          <td><input type="checkbox" [(ngModel)]="userAccess.updateAccess"></td>
          <td><input type="checkbox" [(ngModel)]="userAccess.deleteAccess"></td>
        </tr>
      </tbody>
      <ng-template #noUserAccess>
        <tr *ngFor="let screen of allScreens">
          <td>{{ screen?.screenName }}</td>
          <td>{{ selectedRole?.roleName }}</td>
          <td><input type="checkbox" [(ngModel)]="screen.createAccess"></td>
          <td><input type="checkbox" [(ngModel)]="screen.readAccess"></td>
          <td><input type="checkbox" [(ngModel)]="screen.updateAccess"></td>
          <td><input type="checkbox" [(ngModel)]="screen.deleteAccess"></td>
        </tr>
      </ng-template>
      
  </table>
  
  <div *ngIf="selectedRole && selectedRole.userAccess && selectedRole.userAccess.length > 0" class="button"(click)="createScreenAccess(selectedRoleId)">
    <button type="submit">Update</button>
  </div>

  <div *ngIf="!selectedRole || !selectedRole.userAccess || selectedRole.userAccess.length === 0" class="button" (click)="createScreenAccess(selectedRoleId)">
    <button type="button">Save</button>
  </div>
  
  

   >


  